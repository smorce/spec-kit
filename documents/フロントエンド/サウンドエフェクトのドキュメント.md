# サウンドエフェクトのドキュメント

このドキュメントでは、アプリケーションにおけるサウンドエフェクトの実装について概説します。

## 概要

このアプリケーションは、Web Audio APIを使用してタイプライターのサウンドエフェクトを動的に生成します。このアプローチにより、音声ファイルが不要になり、読み込み時間が短縮され、柔軟なサウンドのカスタマイズが可能になります。サウンドの生成は`SoundManager`によって管理され、タイプライターアニメーション中に`AnimationManager`によってトリガーされます。

### 主要ファイル

-   **`js/sound.js`**: オーディオの作成と再生を担当する`SoundManager`クラスを定義します。
-   **`js/animation.js`**: タイプライターアニメーション中にサウンドエフェクトをトリガーする`AnimationManager`クラスを定義します。
-   **`js/app.js`**: `SoundManager`や`AnimationManager`を含むすべてのモジュールを初期化し、統合します。
-   **`templates/index.html`**: JavaScriptモジュールを読み込み、サーバー側の設定をアプリケーションに渡します。

## 詳細なフロー

1.  **初期化**:
    -   `app.js`が`SoundManager`と`AnimationManager`を初期化し、`SoundManager`のインスタンスを`AnimationManager`に渡します。

2.  **設定**:
    -   `index.html`は、周波数、音量、持続時間などのサウンドパラメータを含む、サーバーからの設定を格納したグローバルな`appConfig`オブジェクトを注入します。

3.  **サウンド生成**:
    -   `SoundManager`はWeb Audio APIを使用して矩形波オシレーターを作成します。サウンドのプロパティは`appConfig`からの設定に基づいて構成されます。

4.  **サウンドのトリガー**:
    -   `AnimationManager`の`typeWriter`関数がテキストアニメーションを担当します。文字がタイプされるたびに、`soundManager.playTypeSound()`を呼び出してタイプライターのサウンドエフェクトを再生します。